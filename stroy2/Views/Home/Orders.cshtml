@model IEnumerable<stroy2.Models.Order>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@using Microsoft.EntityFrameworkCore;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@


 
<div id="PlaceHolderHere"></div>

<button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addOrder" data-url="@Url.Action("Create")">Добавить заказ </button>
<table class="table">

    <tread>
        <tr>
           @* <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>*@
            <th>
                Наименование работы
            </th>


        </tr>

    </tread>


    @*</table>*@
        <tbody>
        <div id="modDialog" class="modal fade">
            <div id="dialogContent" class="modal-dialog"></div>
        </div>
        @foreach (var item in Model)
        {
            <tr>
              @*  <td>
                    @item.Id
                </td>*@
                <td>
                    @item.Work
                </td>
                <td>
                    <button type="button" class="btn  btn-light" style="">@Html.ActionLink("Изменить ", "EditOrderPartial", new { id =item.Id }, new { @class = "ord" })</button>
                   @* <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addOrder" data-url="*@

                    <button type="button" class="btn  btn-light" style="">@Html.ActionLink("Подробнее ", "PartialDetails", new { id =item.Id }, new { @class = "ord" })</button>
                   @*>Информация</button>*@
                    <button type="button" class="btn  btn-light" style=""><a asp-action="DeleteOrder" asp-controller="Home" asp-route-id="@item.Id">Удалить</a></button>

                </td>

            </tr>
        }
        </tbody>

</table>
@section scripts
    {
    <script type="text/javascript">

        $(function () {
            $.ajaxSetup({ cache: false });
            $(".ord").click(function (e) {

                e.preventDefault();
                $.get(this.href, function (data) {
                    $('#dialogContent').html(data);
                    $('#modDialog').modal('show');
                });
            });
        })
    </script>
}