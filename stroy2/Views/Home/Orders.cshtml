@model IEnumerable<stroy2.Models.Order>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@using Microsoft.EntityFrameworkCore;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@


 
<div id="PlaceHolderHere"></div>

<button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addOrder" data-url="@Url.Action("Create")">Добавить заказ </button>
<table class="table">

    <div id="modDialog" class="modal fade">
        <div id="dialogContent" class="modal-dialog"></div>
    </div>

        <tr>
           
            <th>
                Наименование работы
            </th>


        </tr>

   
              

        @foreach (var item in Model)
        {
            <tr>  
                
                <td>
                    @item.Work
                </td>
                <td>
                    <button type="button" class="btn  btn-light" style="">@Html.ActionLink("Изменить ", "EditOrderPartial", new { id =item.Id }, new { @class = "ord" })</button>
                  @* <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addOrder" data-url="*@

                    @*<button type="button" class="btn  btn-light" data-toggle="modal" data-target="#addOrder" data-url="@Url.Action("EditOrderPartial")">изменить@*<a asp-action="DeleteOrder" asp-controller="Home" asp-route-id="@item.Id">Удалить</a></button>*@

                    <button type="button" class="btn  btn-light" style="">@Html.ActionLink("Подробнее ", "PartialDetails", new { id =item.Id }, new { @class = "ord" })</button>
                   @*>Информация</button>*@
                    <button type="button" class="btn  btn-light" style="">@Html.ActionLink("Удалить ", "DeleteOrder", new { id =item.Id }, new { @class = "ord" })</button>
                </td>
                
            </tr>
              @*  <td>
                    @item.Id
                </td>*@
              

           
        }
    

</table>
@section scripts
    {
    <script type="text/javascript">

        $(function () {
            $.ajaxSetup({ cache: false });
            $(".ord").click(function (e) {

                e.preventDefault();
                $.get(this.href, function (data) {
                    $('#dialogContent').html(data);
                    $('#modDialog').modal('show');
                });
            });
        })
    </script>
}